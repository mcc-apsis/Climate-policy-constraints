"0","##### select variables"
"0","vars <- c(""rrents_tot_WB"",""ene_share_coal"",""ene_share_oil"",""ene_share_gas"",""gov_corrupt_WGI"",""gov_effect_WGI"",""gini_disp"",""frac_ethnic"",""trust"")"
"0","group <- c(""vested"",""vested"",""vested"",""vested"",""capacity"",""capacity"",""social"",""social"",""social"")"
"0","risk <- cbind(as.data.frame(vars),group) %>% "
"0","  mutate(vars=as.character(vars))"
"0","ch <- pe %>% "
"0","  select(c(""Country"",""ISO"",""Year"",""region_IAM10"",""region_RCP5"",risk$vars,""pop_UN""))"
"0","rm(vars,group)"
"0","#### bring data to latest year [DO SOME CHECKS HERE] ####"
"0","ch <- ch %>% "
"0","  group_by(Country) %>% "
"0","  mutate_all(funs(na.locf(.,na.rm=FALSE))) %>% "
"0","  ungroup() %>% "
"0","  filter(Year==2015) %>% "
"0","  filter(Country!=""World"") %>% "
"0","  filter(pop_UN>1000000) %>% "
"0","  select(-pop_UN)"
